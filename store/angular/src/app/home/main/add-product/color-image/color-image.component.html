<br />
<h4>Color & Image</h4>
<hr />
<form #colorimageForm="ngForm">
  <!-- <input type="button" id="hideshow" value="Add New Color & Image" /> -->
  <input type="button" (click)="hideandshow()" value="Add New Color & Image" />
  <br /><br />
  <div *ngIf="show"  id="content">
  <input type="hidden" name="_id" [(ngModel)]="selectedProduct._id" />

    <h6>Add Product Color</h6>
    <hr />
    <div class="col-sm-9">
      <div class="row">
        <div class="col-xs-6">
          <div class="input-group">
            <span class="input-group-addon">Color Name : &nbsp;</span>
            <input
              type="text"
              name="newColorName"
              [(ngModel)]="newColor.newColorName"
              (change)="onChangeColorName($event)"
              class="form-control"
              placeholder="Color Name"
            />
          </div>
        </div>
      </div>
    </div>
<br>
    <div class="col-sm-9">
        <div class="row">
          <div class="col-xs-6">
            <div class="input-group">
              <span class="input-group-addon">Additional Price ($) : &nbsp;</span>
              <input
                type="text"
                name="additionalPrice"
                [(ngModel)]="newColor.additionalPrice"
                (change)="onChangeAdditionalPrice($event)"
                class="form-control"
                placeholder="Additional Price"
              />
            </div>
          </div>
        </div>
      </div>

    <br />
    <div class="col-sm-9">
      <div class="row">
        <div class="col-xs-6">
          <div class="input-group">
            <span class="input-group-addon">Add Color : &nbsp;</span>
            <input
              [(colorPicker)]="colorCode"
              [(ngModel)]="newColor.newColorCode"
              (colorPickerChange)="onChangeColor($event)"
              [style.background]="colorCode"
              name="newColorCode"
              [value]="colorCode"
              [cpPosition]="'bottom'"
            />
          </div>
        </div>
      </div>
    </div>
    <br /><br />

    <h6>Product Front Image</h6>
    <span> (Accepts files with .jpg,.png & .jpeg extensions only) </span> <br />
    <span> (Images of 200*200px ) </span>
    <hr />
    <div class="col-sm-9">
      <div class="row">
        <div class="col-xs-6">
          <div id="wrapper">
            <input
              type="file"
              name="frontImage"
              max-width:200px
              (change)="uploadFileFront($event)"
              accept="image/jpg,image/jpeg,image/png"
            />
            <div *ngIf="displayImageF == 'true'">
              <img src="{{urlFront}}" width="200" height="200" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <br />

    <h6>Product Back Image</h6>
    <span> (Accepts files with .jpg,.png & .jpeg extensions only) </span> <br />
    <span> (Images of 200*200px ) </span>
    <hr />
    <div class="col-sm-9">
      <div class="row">
        <div class="col-xs-6">
          <div id="wrapper">
            <input
              type="file"
              name="backImage"
              max-width:200px
              (change)="uploadFileBack($event)"
              accept="image/jpg,image/jpeg,image/png"
            />
            <div *ngIf="displayImageB  == 'true'">
              <img src="{{urlBack}}" width="200" height="200" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <br />

    <h6>Right Side Image</h6>
    <span> (Accepts files with .jpg,.png & .jpeg extensions only) </span> <br />
    <span> (Images of 200*200px ) </span>
    <hr />
    <div class="col-sm-9">
      <div class="row">
        <div class="col-xs-6">
          <div id="wrapper">
            <input
              type="file"
              name="backImage"
              max-width:200px
              (change)="uploadFileRight($event)"
              accept="image/jpg,image/jpeg,image/png"
            />
            <div *ngIf="displayImageR  == 'true'">
              <img src="{{urlRight}}" width="200" height="200" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <br />

    <h6>Left Side Image</h6>
    <span> (Accepts files with .jpg,.png & .jpeg extensions only) </span> <br />
    <span> (Images of 200*200px ) </span>
    <hr />
    <div class="col-sm-9">
      <div class="row">
        <div class="col-xs-6">
          <div id="wrapper">
            <input
              type="file"
              name="backImage"
              max-width:200px
              (change)="uploadFileLeft($event)"
              accept="image/jpg,image/jpeg,image/png"
            />
            <div *ngIf="displayImageL  == 'true'">
              <img src="{{urlLeft}}" width="200" height="200" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <br />

    <br /><br />
    <div class="form-group">
      <div class="col-sm-9">
        <button
          type="submit"
          (click)="onUpdate(colorimageForm)"
          class="btn btn-primary btn-block"
        >
          Update Product
        </button>
        <br />
      </div>
    </div>
  </div>
</form>

<h6>Color List:</h6>
<div *ngFor="let product of selectedProduct.colorName; let i = index">
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="table-responsive">
        <table id="mytable" class="table table-bordred table-striped">
          <thead>
            <th><input type="checkbox" id="checkall" /></th>
            <th>Color Title</th>
            <th>Adition Price in $</th>
            <th>Front Image</th>
            <th>Back Image</th>
            <th>Left Image</th>
            <th>Right Image</th>
          </thead>
          <tbody>
            <tr>
              <td><input type="checkbox" class="checkthis" /></td>
              <td>Color Name: {{product}} <br> Color Code: {{selectedProduct.colorCode[i]}}  </td>
              <td>{{selectedProduct.additionalPrice[i]}}</td>
              <td><img class="item1" src="http://localhost:3000/{{selectedProduct.frontImage[i]}}" onError="this.src='../../assets/image/Noimagefound.jpg'" /></td>
              <td><img class="item1" src="http://localhost:3000/{{selectedProduct.backImage[i]}}" onError="this.src='../../assets/image/Noimagefound.jpg'" /></td>
              <td><img class="item1" src="http://localhost:3000/{{selectedProduct.rightImage[i]}}" onError="this.src='../../assets/image/Noimagefound.jpg'" /></td>
              <td><img class="item1" src="http://localhost:3000/{{selectedProduct.leftImage[i]}}" onError="this.src='../../assets/image/Noimagefound.jpg'"/></td>
              <!-- <td>
                <p data-placement="top" data-toggle="tooltip" title="Edit">
                  <!-- <button class="btn btn-outline-success btn-space"> <span > Active </span> </button> -->
                  <!-- <button class="card-link" *ngIf="active" class="btn btn-outline-success btn-space" (click)="status()"> Active </button>
                  <button class="card-link" *ngIf="!active" class="btn btn-outline-danger btn-space" (click)="status()"> Deactive </button>
                </p>
              </td> -->
              <!-- <td> 
                <p data-placement="top" data-toggle="tooltip" title="Edit">
                  <button>
                    <span> <i class="fa fa-edit" style="font-size:18px;color:blue"></i> </span>
                  </button>
                </p>
              </td>
              <td>
                <p data-placement="top" data-toggle="tooltip" title="Delete">
                  <button (click)="deleteColor(i)">
                    <span><i class="fa fa-trash-o" style="font-size:18px;color:red"></i></span>
                  </button>
                </p>
              </td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<!-- EDIT -->
<div
  class="modal fade"
  id="edit"
  tabindex="-1"
  role="dialog"
  aria-labelledby="edit"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-hidden="true"
        >
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
        <h4 class="modal-title custom_align" id="Heading">Edit Your Detail</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <input class="form-control " type="text" placeholder="Mohsin" />
        </div>
        <div class="form-group">
          <input class="form-control " type="text" placeholder="Irshad" />
        </div>
        <div class="form-group">
          <textarea
            rows="2"
            class="form-control"
            placeholder="CB 106/107 Street # 11 Wah Cantt Islamabad Pakistan"
          ></textarea>
        </div>
      </div>
      <div class="modal-footer ">
        <button
          type="button"
          class="btn btn-warning btn-lg"
          style="width: 100%;"
        >
          <span class="glyphicon glyphicon-ok-sign"></span> Update
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>


<!-- DELETE -->
<div
  class="modal fade"
  id="delete"
  tabindex="-1"
  role="dialog"
  aria-labelledby="edit"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-hidden="true"
        >
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
        <h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
      </div>
      <div class="modal-body">
        <div class="alert alert-danger">
          <span class="glyphicon glyphicon-warning-sign"></span> Are you sure
          you want to delete this Record?
        </div>
      </div>
      <div class="modal-footer ">
        <button type="button" class="btn btn-success">
          <span class="glyphicon glyphicon-ok-sign"></span> Yes
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">
          <span class="glyphicon glyphicon-remove"></span> No
        </button>
      </div>
    </div>
  </div>
</div>

<!--
  <div *ngFor="let product of products;let i = index">
    <div class="col">
      <div class="card-deck">
        <div class="card bg-light text-dark">
          <div class="card-header bg-info text-white"> <b>Product Name:</b> {{product.name | uppercase}}</div>
          <div class="card-body">
            <p class="card-text text-dark"> <b>Product ID:</b> #{{product._id}}</p>
            <p class="card-text text-dark"> <b>Color:</b> {{product.colorName}}</p>
            <p class="card-text text-dark"> <b>Color Code:</b> {{product.colorCode}}</p>
            <button class="card-link" class="btn btn-outline-danger btn-space" (click)="deleteProduct(product._id,productForm)">Delete</button>
            <button class="card-link" class="btn btn-outline-warning btn-space" (click)="editProduct(product)">Edit</button>
            <button class="card-link" class="btn btn-outline-dark btn-space">Acitve</button>
          </div>
        </div>
      </div>
      <br><br>
    </div>
  </div>
-->
